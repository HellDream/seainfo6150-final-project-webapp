(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,a){e.exports={section:"ProductCreatePage_section__1y2P2",container:"ProductCreatePage_container__1tGqS",backBtnContainer:"ProductCreatePage_backBtnContainer__1td_x",backBtn:"ProductCreatePage_backBtn__oKrEC",formTitle:"ProductCreatePage_formTitle__Ese2r",form:"ProductCreatePage_form__3aVAM",labelContainer:"ProductCreatePage_labelContainer__1ENfY",categoryLabel:"ProductCreatePage_categoryLabel__3-fpf",radio:"ProductCreatePage_radio__3MviL",categoryBtnContainer:"ProductCreatePage_categoryBtnContainer__ZMNtj",inputContainer:"ProductCreatePage_inputContainer__1XXTO",label:"ProductCreatePage_label__3SdG0",input:"ProductCreatePage_input__1L7DP",inputTextArea:"ProductCreatePage_inputTextArea__3ryej",imgBtn:"ProductCreatePage_imgBtn__3Edt6",imageInput:"ProductCreatePage_imageInput__3aDCP",selectedImage:"ProductCreatePage_selectedImage__8Ghjh",submitButton:"ProductCreatePage_submitButton__1AixC"}},,,,,,,,function(e,t,a){e.exports={section:"ProductDetailPage_section__-WdbF",container:"ProductDetailPage_container__3YG9I",imageContainer:"ProductDetailPage_imageContainer__3FQWs",image:"ProductDetailPage_image__Fk_nE",titleContainer:"ProductDetailPage_titleContainer__36PC1",title:"ProductDetailPage_title__3ZpG7",price:"ProductDetailPage_price__1OzWk",contactContainer:"ProductDetailPage_contactContainer__LJAgY",contact:"ProductDetailPage_contact__1PUwa",time:"ProductDetailPage_time__1uPyl",descriptionContainer:"ProductDetailPage_descriptionContainer__3wC_8",backBtn:"ProductDetailPage_backBtn__2-xTL"}},function(e,t,a){e.exports={section:"ContactUsPage_section__3l8-L",container:"ContactUsPage_container__13OK0",formTitle:"ContactUsPage_formTitle__1tb92",form:"ContactUsPage_form__3esWc",inputContainer:"ContactUsPage_inputContainer__1t81X",label:"ContactUsPage_label__3kqQN",input:"ContactUsPage_input__1q7De",inputTextArea:"ContactUsPage_inputTextArea__1fUwc",submitButton:"ContactUsPage_submitButton__1KYi3"}},,function(e,t,a){e.exports={header:"Header_header__1BtbS",navbar:"Header_navbar__1rTfm",empty:"Header_empty__uL08J",title:"Header_title__2OgNw",links:"Header_links__1i8Vz",createLink:"Header_createLink__3_VuN",homeLink:"Header_homeLink__1vK1e",cancel:"Header_cancel__x0bOz"}},function(e,t,a){e.exports={product:"ProductItem_product__1FICM",link:"ProductItem_link__2W4bh",imageBlock:"ProductItem_imageBlock__2Qzmz",image:"ProductItem_image__3qKAk",productInfoBlock:"ProductItem_productInfoBlock__2pcB9",title:"ProductItem_title__20TLj",price:"ProductItem_price__34r8q",time:"ProductItem_time__2GHdo"}},,,,function(e,t,a){e.exports={section:"Category_section__3UGzg",container:"Category_container__3H1lB",block:"Category_block__xP8ql",backBtn:"Category_backBtn__1drNC",headLineContainer:"Category_headLineContainer__1TJzc",headLine:"Category_headLine__oZpu_"}},,,function(e,t,a){e.exports={category:"CategoryItem_category__9QChN",link:"CategoryItem_link__1tZRw",imageBlock:"CategoryItem_imageBlock__3YAcq",image:"CategoryItem_image__2UGdq",title:"CategoryItem_title__9TfiG"}},function(e,t,a){e.exports={container:"Dialog_container__jHaff",dialogWrapper:"Dialog_dialogWrapper__1Y1hX",closeBtn:"Dialog_closeBtn__13SSd",content:"Dialog_content__1pqk0",okBtn:"Dialog_okBtn__VIjP_"}},function(e,t,a){e.exports={section:"homepage_section__35xRb",container:"homepage_container__1b-dI",block:"homepage_block__1ilx7",headLineContainer:"homepage_headLineContainer__1hwF2",headLine:"homepage_headLine__3znco"}},,,,,,,function(e,t,a){e.exports={container:"Footer_container__B_5zs",content:"Footer_content__2qR70"}},function(e,t,a){e.exports={container:"LoadingProgress_container__1H3uk",loader:"LoadingProgress_loader__3Ebnl",spin:"LoadingProgress_spin__BDUuk"}},,,,,,function(e,t,a){e.exports={categoryContainer:"Category_categoryContainer__2NyvS"}},function(e,t,a){e.exports=a.p+"static/media/electronics.cd282f88.jpeg"},function(e,t,a){e.exports=a.p+"static/media/books.809949fc.jpg"},function(e,t,a){e.exports=a.p+"static/media/furnitures.f16c276a.jpg"},function(e,t,a){e.exports=a.p+"static/media/entertainments.b91f3a04.png"},function(e,t,a){e.exports=a.p+"static/media/tools.fb5015cc.jpg"},function(e,t,a){e.exports=a.p+"static/media/others.da1df9a4.jpg"},function(e,t,a){e.exports={productContainer:"ProductList_productContainer__3r2EM"}},function(e,t,a){e.exports=a(55)},,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(34),o=a.n(r),l=a(7),i=a(2),s=a(20),m=a.n(s),u=function(e){return c.a.createElement("li",{className:m.a.category},c.a.createElement(l.b,{className:m.a.link,to:e.category.title},c.a.createElement("div",{className:m.a.imageBlock},c.a.createElement("img",{className:m.a.image,src:e.category.imageURI,alt:"".concat(e.title)})),c.a.createElement("h3",{className:m.a.title},e.category.title)))},d=a(36),p=a.n(d),_=a(37),g=a.n(_),E=a(38),b=a.n(E),f=a(39),h=a.n(f),C=a(40),N=a.n(C),y=a(41),P=a.n(y),k=a(42),v=a.n(k),j=[{slug:0,title:"books",imageURI:b.a},{slug:1,title:"electronics",imageURI:g.a},{slug:2,title:"furnitures",imageURI:h.a},{slug:3,title:"entertainments",imageURI:N.a},{slug:4,title:"tools",imageURI:P.a},{slug:5,title:"others",imageURI:v.a}],x=function(){return c.a.createElement("ul",{className:p.a.categoryContainer},j.map(function(e){return c.a.createElement(u,{category:e,key:e.slug})}))},O=a(4),T=a(12),B=a.n(T),I=a(21),L=a.n(I),F=function(e){var t=e.message,a=e.open,n=e.ok,r=c.a.createElement("div",{className:L.a.container},c.a.createElement("div",{className:L.a.dialogWrapper},c.a.createElement("button",{className:L.a.closeBtn,onClick:function(){return e.onClose(!a)}}," "),c.a.createElement("h3",{className:L.a.content},t),n&&c.a.createElement("button",{className:L.a.okBtn,onClick:n},"OK")));return a||(r=null),a?r:c.a.createElement("div",null)},U=function(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(""),s=Object(O.a)(i,2),m=s[0],u=s[1];return c.a.createElement("div",null,c.a.createElement(F,{open:r,onClose:o,message:m,ok:e.onCancel}),c.a.createElement("header",{className:B.a.header},c.a.createElement("div",{className:B.a.navbar},c.a.createElement("div",{className:B.a.empty}),c.a.createElement(l.b,{className:B.a.homeLink,to:"/"},c.a.createElement("h3",{className:B.a.title},"thrift store")),c.a.createElement("div",{className:B.a.links},!e.createPage&&c.a.createElement(l.b,{className:B.a.createLink,to:"/create"},"create"),e.createPage&&c.a.createElement("button",{className:B.a.cancel,onClick:function(e){u("You haven't finished yet. Are you sure to cancel?"),o(!r)}},"cancel")))))},S=a(29),w=a.n(S),D=function(e){return c.a.createElement("footer",{className:w.a.container},c.a.createElement(l.b,{className:w.a.content,to:"/contact-us"},"Contact us?"))},q=a(22),A=a.n(q),Y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("section",{className:A.a.section},c.a.createElement("div",{className:A.a.container},c.a.createElement("div",{className:A.a.block}),c.a.createElement("div",{className:A.a.headLineContainer},c.a.createElement("h1",{className:A.a.headLine},"Find what you need here...")),c.a.createElement(x,null))),c.a.createElement(D,null))},H=a(11),R=a.n(H),z=a(15),G=a(17),W=a.n(G),J=a(13),K=a.n(J),M=a(18),Q=a.n(M),V=a(24),X=a.n(V),Z=function(e){return Q.a.extend(X.a),c.a.createElement("li",{className:K.a.product},c.a.createElement(l.b,{className:K.a.link,to:{pathname:"".concat(e.category,"/product/").concat(e.product.slug),product:e.product}},c.a.createElement("div",{className:K.a.imageBlock},c.a.createElement("img",{className:K.a.image,src:e.product.imageUrl,alt:"".concat(e.title)})),c.a.createElement("div",{className:K.a.productInfoBlock},c.a.createElement("h3",{className:K.a.title},e.product.title),c.a.createElement("h4",{className:K.a.price},"$",e.product.price.toFixed(2))),c.a.createElement("time",{className:K.a.time,dateTime:e.product.postedTime},Q()(e.product.postedTime).fromNow())))},$=a(43),ee=a.n($),te=function(e){var t=e.products;return c.a.createElement("ul",{className:ee.a.productContainer},t.map(function(t){return c.a.createElement(Z,{product:t,key:t.slug,category:e.categoryTitle})}))},ae=a(19),ne=a(30),ce=a.n(ne),re=function(e){return c.a.createElement("div",{className:ce.a.container},c.a.createElement("div",{className:ce.a.loader}))},oe=function(e){var t=Object(n.useState)(),a=Object(O.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)(function(){var t=e.categoryTitle;document.title="Thrift Store - "+t.charAt(0).toUpperCase()+t.slice(1);var a=function(){var e=Object(z.a)(R.a.mark(function e(){var a,n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-seainfo6150-final-project.cloudfunctions.net/api/getProducts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(ae.isEmpty)(r)&&a()},[r,e.categoryTitle]),Object(ae.isEmpty)(r)?c.a.createElement(re,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("section",{className:W.a.section},c.a.createElement("div",{className:W.a.container},c.a.createElement("div",{className:W.a.block},c.a.createElement("button",{className:W.a.backBtn,onClick:function(){e.history.goBack()}})),c.a.createElement("div",{className:W.a.headLineContainer},c.a.createElement("h1",{className:W.a.headLine},e.categoryTitle)),c.a.createElement(te,{categoryTitle:e.categoryTitle,products:r}))),c.a.createElement(D,null))},le=a(9),ie=a.n(le),se=function(e){Q.a.extend(X.a);var t=Object(n.useState)(),a=Object(O.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(O.a)(l,2),s=(i[0],i[1]);return Object(n.useEffect)(function(){document.title="Thrift Store - Product Detail";var t=function(){var t=Object(z.a)(R.a.mark(function t(){var a,n;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,fetch("https://us-central1-seainfo6150-final-project.cloudfunctions.net/api/getProductById",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:e.categoryTitle,slug:e.productId})});case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,o(n),s(!1);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object(ae.isEmpty)(r)&&(e.product?o(e.product):t())},[r]),Object(ae.isEmpty)(r)?c.a.createElement(re,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement("section",{className:ie.a.section},c.a.createElement("button",{className:ie.a.backBtn,onClick:function(){e.history.goBack()}}),c.a.createElement("div",{className:ie.a.container},c.a.createElement("div",{className:ie.a.imageContainer},c.a.createElement("img",{className:ie.a.image,src:r.imageUrl,alt:"book"})),c.a.createElement("div",{className:ie.a.titleContainer},c.a.createElement("h3",{className:ie.a.title},r.title),c.a.createElement("h4",{className:ie.a.price},r.price.toFixed(2))),c.a.createElement("div",{className:ie.a.contactContainer},c.a.createElement("address",{className:ie.a.contact},"Posted by ",r.contactName+" ",c.a.createElement("a",{href:"mailto:kate.farley@nytimes.com"},r.email)),c.a.createElement("time",{dateTime:r.postedTime},Q()(r.postedTime).fromNow()," ")),c.a.createElement("div",{className:ie.a.descriptionContainer},c.a.createElement("p",null,r.description)))))},me=function(){return c.a.createElement("div",null,"The error page")},ue=a(25),de=a(14),pe=a(1),_e=a.n(pe),ge=function(e){var t=Object(n.useState)(),a=Object(O.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!0),i=Object(O.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)({open:!1,message:"",ok:null,cancel:null,onClose:null}),d=Object(O.a)(u,2),p=d[0],_=d[1],g=Object(n.useState)({contactName:"",email:"",title:"",price:0,description:""}),E=Object(O.a)(g,2),b=E[0],f=E[1],h=Object(n.useState)({image:null,imageUrl:null}),C=Object(O.a)(h,2),N=C[0],y=C[1],P=Object(n.useState)(!1),k=Object(O.a)(P,2),v=k[0],j=k[1];Object(n.useEffect)(function(){document.title="Thrift Store - Create Product"});var x=function(e){o(e.target.value),f(Object(de.a)({},b,{category:e.target.value.toLowerCase()}))},T=c.a.createElement("section",{className:_e.a.section},c.a.createElement("div",{className:_e.a.container},c.a.createElement("h3",{className:_e.a.formTitle},"Select A Category"),c.a.createElement("form",{className:_e.a.form},c.a.createElement("div",{className:_e.a.labelContainer},c.a.createElement("input",{type:"radio",id:"Books",name:"Books",value:"Books",onChange:x,checked:"Books"===r,className:_e.a.radio}),c.a.createElement("label",{className:_e.a.categoryLabel,htmlFor:"Books"},"Books")),c.a.createElement("div",{className:_e.a.labelContainer},c.a.createElement("input",{id:"Electronics",type:"radio",name:"Electronics",value:"Electronics",onChange:x,checked:"Electronics"===r,className:_e.a.radio}),c.a.createElement("label",{className:_e.a.categoryLabel,htmlFor:"Electronics"},"Electronics")),c.a.createElement("div",{className:_e.a.labelContainer},c.a.createElement("input",{id:"Tools",type:"radio",name:"Tools",value:"Tools",onChange:x,checked:"Tools"===r,className:_e.a.radio}),c.a.createElement("label",{className:_e.a.categoryLabel,htmlFor:"Tools"},"Tools")),c.a.createElement("div",{className:_e.a.labelContainer},c.a.createElement("input",{id:"Furnitures",type:"radio",name:"Furnitures",value:"Furnitures",onChange:x,checked:"Furnitures"===r,className:_e.a.radio}),c.a.createElement("label",{className:_e.a.categoryLabel,htmlFor:"Furnitures"},"Furnitures")),c.a.createElement("div",{className:_e.a.labelContainer},c.a.createElement("input",{id:"Entertainments",type:"radio",name:"Entertainments",value:"Entertainments",onChange:x,checked:"Entertainments"===r,className:_e.a.radio}),c.a.createElement("label",{className:_e.a.categoryLabel,htmlFor:"Entertainments"},"Entertainments")),c.a.createElement("div",{className:_e.a.labelContainer},c.a.createElement("input",{id:"Others",type:"radio",name:"Others",value:"Others",onChange:x,checked:"Others"===r,className:_e.a.radio}),c.a.createElement("label",{className:_e.a.categoryLabel,htmlFor:"Others"},"Others")),c.a.createElement("button",{className:_e.a.submitButton,onClick:function(e){e.preventDefault(),m(!s)}},"Next")))),B=function(){var e=Object(z.a)(R.a.mark(function e(){var t,a,n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.image){e.next=14;break}return(t=new FormData).append("image",N.image,N.image.name),e.next=5,fetch("https://us-central1-seainfo6150-final-project.cloudfunctions.net/api/uploadImage",{method:"POST",body:t});case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,200===a.status){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",n.imageUrl);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(z.a)(R.a.mark(function e(t){var a,n,c,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,B();case 4:return a=e.sent,n=Object(de.a)({},b,{imageUrl:a}),console.log(n),e.next=9,fetch("https://us-central1-seainfo6150-final-project.cloudfunctions.net/api/createProduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:if(c=e.sent,j(!1),201===c.status){e.next=15;break}_({open:!0,message:"Something went wrong with the process...",ok:function(){_(Object(de.a)({},p,{open:!1}))},onClose:function(){_(Object(de.a)({},p,{open:!1}))}}),e.next=19;break;case 15:return e.next=17,c.json();case 17:r=e.sent,_({open:!0,message:"You have uploaded your item successfully!",ok:function(){_(Object(de.a)({},p,{open:!1})),window.location.href="/".concat(r.category,"/product/").concat(r.slug)},onClose:function(){_(Object(de.a)({},p,{open:!1}))}});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=e.target.name;f(Object(de.a)({},b,Object(ue.a)({},t,e.target.value))),console.log(b)},S=c.a.createElement("section",{className:_e.a.section},c.a.createElement("div",{className:_e.a.container},c.a.createElement("div",{className:_e.a.backBtnContainer},c.a.createElement("button",{onClick:function(e){e.preventDefault(),m(!s)},className:_e.a.backBtn})),c.a.createElement("h3",{className:_e.a.formTitle},"Submit Your Item"),c.a.createElement("form",{className:_e.a.form,onSubmit:I},c.a.createElement("div",{className:_e.a.inputContainer},c.a.createElement("label",{className:_e.a.label,htmlFor:"contactName"},"Contact Name*"),c.a.createElement("input",{className:_e.a.input,type:"text",id:"contactName",name:"contactName",value:b.contactName,onChange:L,required:!0})),c.a.createElement("div",{className:_e.a.inputContainer},c.a.createElement("label",{className:_e.a.label,htmlFor:"email"},"Your Email*"),c.a.createElement("input",{className:_e.a.input,type:"email",id:"email",name:"email",value:b.email,onChange:L,required:!0})),c.a.createElement("div",{className:_e.a.inputContainer},c.a.createElement("label",{className:_e.a.label,htmlFor:"title"},"Item Title*"),c.a.createElement("input",{className:_e.a.input,type:"text",id:"title",name:"title",value:b.title,onChange:L,required:!0})),c.a.createElement("div",{className:_e.a.inputContainer},c.a.createElement("label",{className:_e.a.label,htmlFor:"price"},"Price*"),c.a.createElement("input",{className:_e.a.input,type:"number",id:"price",name:"price",value:b.price,onChange:L,required:!0})),c.a.createElement("div",{className:_e.a.inputContainer},c.a.createElement("label",{className:_e.a.label,htmlFor:"description"},"Description (Optional)"),c.a.createElement("textarea",{className:_e.a.inputTextArea,type:"text",id:"description",value:b.description,onChange:L,name:"description"})),c.a.createElement("div",{className:_e.a.inputContainer},c.a.createElement("button",{className:_e.a.imgBtn,type:"button"},c.a.createElement("label",{htmlFor:"image"},"Upload Image"),c.a.createElement("input",{type:"file",id:"image",className:_e.a.imageInput,accept:"image/*",onChange:function(e){var t=e.target.files[0];y({image:t,imageUrl:URL.createObjectURL(t)})}})),N.imageUrl&&c.a.createElement("img",{src:N.imageUrl,className:_e.a.selectedImage,alt:"selected"})),c.a.createElement("button",{className:_e.a.submitButton,type:"submit"},"Submit"))));return c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{open:p.open,message:p.message,ok:p.ok,onClose:p.onClose}),c.a.createElement(U,{createPage:!0,onCancel:function(){e.history.goBack()}}),v&&c.a.createElement(re,null),!0===s?T:S)},Ee=a(10),be=a.n(Ee),fe=function(e){return Object(n.useEffect)(function(){document.title="Thrift Store - Contact Us"}),c.a.createElement(c.a.Fragment,null,c.a.createElement(U,{createPage:!0,onCancel:function(){e.history.goBack()}}),c.a.createElement("section",{className:be.a.section},c.a.createElement("div",{className:be.a.container},c.a.createElement("h3",{className:be.a.formTitle},"Tell Us What You Think!"),c.a.createElement("form",{className:be.a.form},c.a.createElement("div",{className:be.a.inputContainer},c.a.createElement("label",{className:be.a.label,htmlFor:"message"},"Your Email:"),c.a.createElement("input",{type:"email",className:be.a.input,required:!0})),c.a.createElement("div",{className:be.a.inputContainer},c.a.createElement("label",{className:be.a.label,htmlFor:"message"},"Your Message:"),c.a.createElement("textarea",{className:be.a.inputTextArea,type:"text",id:"message",name:"message",required:!0})),c.a.createElement("button",{className:be.a.submitButton,type:"submit"},"Submit")))))};var he=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/",exact:!0,component:Y}),c.a.createElement(i.a,{path:"/create",exact:!0,component:ge}),c.a.createElement(i.a,{path:"/contact-us",exact:!0,component:fe}),c.a.createElement(i.a,{path:"/:categoryTitle",exact:!0,render:function(e){return c.a.createElement(oe,{match:e.match,location:e.location,history:e.history,categoryTitle:e.match.params.categoryTitle})}}),c.a.createElement(i.a,{path:"/:categoryTitle/product/:productId",exact:!0,render:function(e){return c.a.createElement(se,{match:e.match,location:e.location,history:e.history,categoryTitle:e.match.params.categoryTitle,productId:e.match.params.productId,product:e.location.product})}}),c.a.createElement(i.a,{component:me})))};o.a.render(c.a.createElement(l.a,{basename:/github.io/.test(window.location)?"/seainfo6150-final-project-webapp":""},c.a.createElement(he,null)),document.getElementById("root"))}],[[44,1,2]]]);
//# sourceMappingURL=main.5710d0fd.chunk.js.map